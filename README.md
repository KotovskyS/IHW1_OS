## Индивидуальное домашнее задание №1 по Операционным системам

### Выполнил Котовский Семён Олегович, БПИ-219

#### Вариант 34.

#### Задание: Разработать программу, которая на основе анализа двух ASCII-строк формирует на выходе строку, содержащую символы, присутствующие в одной или другой (объединение символов). Каждый символ в соответствующей выходной строке должен встречаться только один раз.

Желаемая оценка - `7 баллов`. Я постарался по-разному описать решения на каждую из оценок, так как программы между собой
очень похожи и отличаются только количеством процессов и типами каналов (пайпов).

Начнём с инструкции для запуска программы.
Необходимо выполнить следующие команды:

```
gcc file.c
./a.out input1.txt output1.txt
```

Файлы с вводными данными и файл для вывода информации можно взять из папок. Ссылка на каждую папку есть в конце каждого
пункта отчёта. Все входные и выходные данные одинаковые (по требованиям к заданию так разрешается).

#### Решение на 4 балла:

Код приведён в файле [4.c](4.c).

Входной файл передается в программу через аргументы командной строки. Программа создает три процесса, где первый процесс
читает содержимое входного файла и записывает его в неименованный канал. Второй процесс считывает данные из канала,
объединяет две строки (вызывает метод `concetenate`, он одинаковый во всех четырех файлах) и передает результат во
второй неименованный канал. Из этого канала третий процесс забирает информацию и записывает её в файл.

Примеры входных и выходных файлов представлены в папке [4_tests](4_tests)

#### Решение на 5 баллов:

Код приведён в файле [5.c](5.c).

Данный код выполняет следующую последовательность действий:

1. Проверяет наличие входных и выходных файлов.
2. Открывает входной и выходной файлы для чтения и записи соответственно.
3. Создает два именованных канала (fifo1 и fifo2).
4. Создает три процесса (pid1, pid2, pid3) при помощи функции fork().
5. В процессе pid1, данные из входного файла считываются в буфер и записываются в named pipe (fifo1).
6. В процессе pid2, данные считываются из named pipe (fifo1) и производится конкатенация строк, результат записывается в
   именованный канал (fifo2).
7. В процессе pid3, данные считываются из named pipe (fifo2) и записываются в выходной файл.
8. В конце работы завершается работа всех процессов и удаляются именованные каналы, а также закрываются неиспользуемые
   концы каналов.

Примеры входных и выходных файлов представлены в папке [5_tests](5_tests)

#### Решение на 6 баллов:

Код приведён в файле [6.c](6.c).

Данное решение является примером использования двух неименованных каналов для создания двух процессов, которые могут
взаимодействовать друг с другом.

Сначала проверяется количество переданных аргументов командной строки. Если количество аргументов не равно 3, то
выводится сообщение об использовании программы и возвращается код ошибки.

Далее открываются файлы для чтения и записи, если возникают ошибки, то выводится сообщение об ошибке и возвращается код
ошибки.

Затем создаются два неименованных канала с помощью функции `pipe`. Если при создании каналов произошла ошибка, то
выводится сообщение об ошибке и возвращается код ошибки.

Создается первый процесс, который читает данные из входного файла в буфер и записывает их в первый канал. Затем
он читает результат из второго канала, записывает его в выходной файл и завершает свою работу.

Создается второй процесс, который читает данные из первого канала, обрабатывает их функцией `concatenate`,
записывает результат во второй канал и завершает свою работу.

Перед окончанием работы программы закрываются все неиспользуемые концы каналов и происходит ожидание завершения
процессов.

Примеры входных и выходных файлов представлены в папке [6_tests](6_tests)

#### Решение на 7 баллов:

Код приведён в файле [7.c](7.c).

Этот код создает два дочерних процесса и использует именованные каналы для обмена данными между процессами. Первый
процесс читает данные из входного файла, записывает их в первый именованный канал и ждет, пока второй процесс не
обработает эти данные и не запишет результат во второй именованный канал. Затем первый процесс читает результат из
второго именованного канала и записывает его в выходной файл. Второй процесс читает данные из первого именованного
канала, обрабатывает их функцией concatenate, и записывает результат во второй именованный канал. Первый процесс
ожидает завершения работы обоих дочерних процессов, а затем удаляет именованные каналы.

Примеры входных и выходных файлов представлены в папке [7_tests](7_tests)